<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>台灣地圖</title>
    <style>
        body {
            margin: 0;
            overflow: hidden; 
        }
        #navbar {
            width: 100%;
            height: 65px;
            background-color: #333;
            display: flex;
            justify-content: space-around;
            align-items: center;
            color: white;
            position: fixed;
            top: 0;
            z-index: 1000;
        }
        #navbar a {
            color: white;
            text-decoration: none;
            padding: 14px 20px;
        }
        #navbar a:hover {
            background-color: #575757;
            border-radius: 5px;
        }
        #map-container {
            width: 100vw;
            height: calc(100vh - 50px); 
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 50px; 
        }
        #map {
            width: 100%;
            height: 100%;
            background-color: rgb(71, 93, 86);
        }
        .region {
            cursor: pointer;
            fill: lightgray;
            stroke: #333;
            stroke-width: 1px;
        }
        .region:hover {
            fill: gray;
        }
        .person {
            fill: rgb(24, 132, 215);
            stroke: black;
            stroke-width: 1px;
        }
        .region text {
            font-family: Arial, sans-serif;
            font-size: 12px;
            fill: black;
        }

    </style>
</head>
<body>
</body>
    </div>
    <div id="navbar">
        <a href="login.html">Login</a>
        <a href="募款.html">募款</a>
    </div>
    <div>
        <svg id="map" viewBox="0 0 1800 1800">
            <g id="index" class="region">
                
                <path d="M100,100 L200,100 L200,200 L100,200 Z" />
                <image href="北.jpg" x="110" y="110" width="80" height="80" />
                <text x="150" y="190" text-anchor="middle">北部</text>
            </g>
            <g id="b中部" class="region">
               
                <path d="M100,300 L200,300 L200,400 L100,400 Z" />
                <image href="中.jpg" x="110" y="310" width="80" height="80" />
                <text x="150" y="390" text-anchor="middle">中部</text>
            </g>
            <g id="b南部" class="region">
                
                <path d="M100,500 L200,500 L200,600 L100,600 Z" />
                <image href="南.jpg" x="110" y="510" width="80" height="80" />
                <text x="150" y="590" text-anchor="middle">南部</text>
            </g>
            <g id="b東部" class="region">
                
                <path d="M300,300 L400,300 L400,400 L300,400 Z" />
                <image href="東.jpg" x="310" y="310" width="80" height="80" />
                <text x="350" y="390" text-anchor="middle">東部</text>
            </g>
            <g id="b離島" class="region">
                
                <path d="M300,500 L400,500 L400,600 L300,600 Z" />
                <image href="離島.png" x="310" y="510" width="80" height="80" />
                <text x="350" y="590" text-anchor="middle">離島</text>
            </g>
            <circle id="person" class="person" cx="65" cy="155" r="10"></circle>
        </svg>
    </div>

    <script>
        
        document.getElementById('index').addEventListener('click', function() {
            window.location.href = 'index.html';
        });

        document.getElementById('b中部').addEventListener('click', function() {
            window.location.href = 'b中部.html';
        });

        document.getElementById('b南部').addEventListener('click', function() {
            window.location.href = 'b南部.html';
        });

        document.getElementById('b東部').addEventListener('click', function() {
            window.location.href = 'b東部.html';
        });

        document.getElementById('b離島').addEventListener('click', function() {
            window.location.href = 'b離島.html';
        });

        const person = document.getElementById('person');
        const step = 20;

        function movePerson(dx, dy) {
            let x = parseInt(person.getAttribute('cx')) + dx;
            let y = parseInt(person.getAttribute('cy')) + dy;
            person.setAttribute('cx', x);
            person.setAttribute('cy', y);
            checkRegion(x, y);
        }

        function checkRegion(x, y) {
            const regions = [
                { id: 'index', path: document.querySelector('#index path') },
                { id: 'b中部', path: document.querySelector('#b中部 path') },
                { id: 'b南部', path: document.querySelector('#b南部 path') },
                { id: 'b東部', path: document.querySelector('#b東部 path') },
                { id: 'b離島', path: document.querySelector('#b離島 path') }
            ];

            regions.forEach(region => {
                const point = person.ownerSVGElement.createSVGPoint();
                point.x = x;
                point.y = y;
                if (region.path.isPointInFill(point)) {
                    window.location.href = `${region.id}.html`;
                }
            });
        }

        document.addEventListener('keydown', function(event) {
            switch (event.key) {
                case 'ArrowUp':
                    movePerson(0, -step);
                    break;
                case 'ArrowDown':
                    movePerson(0, step);
                    break;
                case 'ArrowLeft':
                    movePerson(-step, 0);
                    break;
                case 'ArrowRight':
                    movePerson(step, 0);
                    break;
            }
        });
        
    </script>
</body>
</html>
